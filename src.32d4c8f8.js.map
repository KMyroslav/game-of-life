{"version":3,"sources":["index.js"],"names":["continious","curX","curY","random","width","height","cols","rows","start","randomVal","button","document","querySelector","buttonRst","buttonRnd","buttonRndIncr","buttonRndDecr","buttonSize","buttonSizeIncr","buttonSizeDecr","canvas","canvas2D","getContext","size","canvasResize","clientWidth","clientHeight","setAttribute","make2Darray","arr","Array","i","j","z","Math","round","fillStyle","floor","fillRect","clearRect","onmousemove","e","offsetX","offsetY","onmousedown","countNeighbors","array","count","gameOflife","arrCopy","JSON","parse","stringify","neighbors","onRndBtnClick","onRndIncrClick","onRndDecrClick","onSizeBtnClick","onBtnClick","onRstBtnClick","onSizeIncrClick","onSizeDecrClick","setInterval","textContent","clearInterval","addEventListener"],"mappings":"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","file":"src.32d4c8f8.js","sourceRoot":"../src","sourcesContent":["/* \nAny live cell with fewer than two live neighbors dies, as if caused by underpopulation.\nAny live cell with more than three live neighbors dies, as if by overcrowding.\nAny live cell with two or three live neighbors lives on to the next generation.\nAny dead cell with exactly three live neighbors becomes a live cell.\n */\n\nlet continious,\n  curX,\n  curY,\n  random,\n  width,\n  height,\n  cols,\n  rows,\n  start = 0;\nlet randomVal = 1.5;\nconst button = document.querySelector('.btn');\nconst buttonRst = document.querySelector('.btn-reset');\nconst buttonRnd = document.querySelector('[data-rnd]');\nconst buttonRndIncr = document.querySelector('[data-rnd-incr]');\nconst buttonRndDecr = document.querySelector('[data-rnd-decr]');\nconst buttonSize = document.querySelector('[data-size]');\nconst buttonSizeIncr = document.querySelector('[data-size-incr]');\nconst buttonSizeDecr = document.querySelector('[data-size-decr]');\nconst canvas = document.querySelector('.canvas');\nconst canvas2D = document.querySelector('.canvas').getContext('2d');\nlet size = 12;\n\nfunction canvasResize() {\n  width = canvas.clientWidth - (canvas.clientWidth % size);\n  height = canvas.clientHeight - (canvas.clientHeight % size);\n  cols = width / size;\n  rows = height / size;\n  canvas.setAttribute('style', `width:${width}px; height:${height}px`);\n  canvas.setAttribute('width', `${width}`);\n  canvas.setAttribute('height', `${height}`);\n}\ncanvasResize();\n\ncanvas.onmousemove = function (e) {\n  curX = Math.floor(e.offsetX / size);\n  curY = Math.floor(e.offsetY / size);\n};\n\ncanvas.onmousedown = function () {\n  arr[curX][curY][2] = arr[curX][curY][2] === 0 ? 1 : 0;\n  canvas2D.fillStyle = `rgb(\n          0,\n          0,\n          ${Math.floor(Math.random() * 255)})`;\n  if (arr[curX][curY][2] === 1) {\n    canvas2D.fillRect(curX * size, curY * size, size, size);\n  }\n  if (arr[curX][curY][2] === 0) {\n    canvas2D.clearRect(curX * size, curY * size, size, size);\n  }\n};\n\nfunction make2Darray(random) {\n  const arr = new Array(cols);\n  for (let i = 0; i < cols; i += 1) {\n    arr[i] = new Array(rows);\n  }\n\n  for (let i = 0; i < cols; i += 1) {\n    for (let j = 0; j < rows; j += 1) {\n      if (random) {\n        let z = Math.round(Math.random() / randomVal);\n        arr[i][j] = [i, j, z];\n      } else {\n        arr[i][j] = [i, j, 0];\n      }\n      canvas2D.fillStyle = `rgb(\n          0,\n          0,\n          ${Math.floor(Math.random() * 255)})`;\n      if (arr[i][j][2] === 1) {\n        canvas2D.fillRect(i * size, j * size, size, size);\n      }\n      if (arr[i][j][2] === 0) {\n        canvas2D.clearRect(i * size, j * size, size, size);\n      }\n    }\n  }\n  return arr;\n}\n\nlet arr = make2Darray(random);\n\nfunction countNeighbors(i, j, array) {\n  let count = 0;\n  if (j - 1 >= 0) {\n    if (array[i][j - 1][2] === 1) count += 1;\n  }\n  if (j - 1 >= 0 && i - 1 >= 0) {\n    if (array[i - 1][j - 1][2] === 1) count += 1;\n  }\n  if (j - 1 >= 0 && i + 1 < cols) {\n    if (array[i + 1][j - 1][2] === 1) count += 1;\n  }\n  if (i - 1 >= 0) {\n    if (array[i - 1][j][2] === 1) count += 1;\n  }\n  if (i + 1 < cols) {\n    if (array[i + 1][j][2] === 1) count += 1;\n  }\n  if (j + 1 < rows) {\n    if (array[i][j + 1][2] === 1) count += 1;\n  }\n  if (j + 1 < rows && i - 1 >= 0) {\n    if (array[i - 1][j + 1][2] === 1) count += 1;\n  }\n  if (j + 1 < rows && i + 1 < cols) {\n    if (array[i + 1][j + 1][2] === 1) count += 1;\n  }\n  return count;\n}\n\nfunction gameOflife() {\n  let arrCopy = JSON.parse(JSON.stringify(arr));\n  for (let i = 0; i < cols; i += 1) {\n    for (let j = 0; j < rows; j += 1) {\n      let neighbors = countNeighbors(i, j, arrCopy);\n      if (neighbors < 2) {\n        arr[i][j][2] = 0;\n      } else if (neighbors > 3) {\n        arr[i][j][2] = 0;\n      } else if (\n        (arrCopy[i][j][2] === 1 && neighbors === 2) ||\n        (arrCopy[i][j][2] === 1 && neighbors === 3)\n      ) {\n        arr[i][j][2] = 1;\n      } else if (arrCopy[i][j][2] === 0 && neighbors === 3) {\n        arr[i][j][2] = 1;\n      }\n      if (arr[i][j][2] === 1) {\n        canvas2D.fillStyle = `rgb(\n            0,\n            0,\n            ${Math.floor(Math.random() * 255)})`;\n        canvas2D.fillRect(i * size, j * size, size, size);\n      }\n      if (arr[i][j][2] === 0) {\n        canvas2D.clearRect(i * size, j * size, size, size);\n      }\n    }\n  }\n}\n\nbutton.addEventListener('click', onBtnClick);\nbuttonRst.addEventListener('click', onRstBtnClick);\nbuttonRnd.addEventListener('click', onRndBtnClick);\nbuttonRndIncr.addEventListener('click', onRndIncrClick);\nbuttonRndDecr.addEventListener('click', onRndDecrClick);\nbuttonSize.addEventListener('click', onSizeBtnClick);\nbuttonSizeIncr.addEventListener('click', onSizeIncrClick);\nbuttonSizeDecr.addEventListener('click', onSizeDecrClick);\n\nfunction onRndBtnClick() {\n  random = true;\n  arr = make2Darray(random);\n}\n\nfunction onRndIncrClick() {\n  if (randomVal >= 1) randomVal -= 0.1;\n}\nfunction onRndDecrClick() {\n  if (randomVal <= 2) randomVal += 0.1;\n}\n\nfunction onSizeBtnClick() {\n  size = 12;\n  if (start) onBtnClick();\n  canvasResize();\n  onRstBtnClick();\n}\n\nfunction onSizeIncrClick() {\n  if (size <= 180) size += 2;\n  if (start) onBtnClick();\n  canvasResize();\n  onRstBtnClick();\n}\nfunction onSizeDecrClick() {\n  if (size >= 2) size -= 2;\n  if (start) onBtnClick();\n  canvasResize();\n  onRstBtnClick();\n}\n\nfunction onBtnClick() {\n  start = start === 0 ? 1 : 0;\n  if (start) {\n    continious = setInterval(gameOflife, 75);\n    button.textContent = 'Stop';\n  } else {\n    clearInterval(continious);\n    button.textContent = 'Start';\n  }\n}\n\nfunction onRstBtnClick() {\n  random = false;\n  arr = make2Darray(random);\n}\n"]}