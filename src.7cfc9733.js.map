{"version":3,"sources":["index.js"],"names":["continious","curX","curY","random","width","height","cols","rows","start","randomVal","button","document","querySelector","buttonRst","buttonRnd","buttonRndIncr","buttonRndDecr","buttonSize","buttonSizeIncr","buttonSizeDecr","canvas","canvas2D","getContext","realWidth","clientWidth","realHeight","clientHeight","size","canvasResize","setAttribute","make2Darray","arr","Array","i","j","z","Math","round","fillStyle","floor","fillRect","clearRect","strokeRect","onmousemove","e","offsetX","offsetY","onmousedown","countNeighbors","array","count","gameOflife","arrCopy","JSON","parse","stringify","neighbors","onRndBtnClick","onRndDecrClick","onRndIncrClick","onSizeBtnClick","onBtnClick","onRstBtnClick","onSizeIncrClick","onSizeDecrClick","setInterval","textContent","clearInterval","addEventListener"],"mappings":"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","file":"src.7cfc9733.js","sourceRoot":"../src","sourcesContent":["/* \nAny live cell with fewer than two live neighbors dies, as if caused by underpopulation.\nAny live cell with more than three live neighbors dies, as if by overcrowding.\nAny live cell with two or three live neighbors lives on to the next generation.\nAny dead cell with exactly three live neighbors becomes a live cell.\n */\n\nlet continious,\n  curX,\n  curY,\n  random,\n  width,\n  height,\n  cols,\n  rows,\n  start = 0;\nlet randomVal = 1.5;\nconst button = document.querySelector('.btn');\nconst buttonRst = document.querySelector('.btn-reset');\nconst buttonRnd = document.querySelector('[data-rnd]');\nconst buttonRndIncr = document.querySelector('[data-rnd-incr]');\nconst buttonRndDecr = document.querySelector('[data-rnd-decr]');\nconst buttonSize = document.querySelector('[data-size]');\nconst buttonSizeIncr = document.querySelector('[data-size-incr]');\nconst buttonSizeDecr = document.querySelector('[data-size-decr]');\nconst canvas = document.querySelector('.canvas');\nconst canvas2D = document.querySelector('.canvas').getContext('2d');\nconst realWidth = canvas.clientWidth;\nconst realHeight = canvas.clientHeight;\nlet size = 12;\n\nfunction canvasResize() {\n  width = realWidth - (realWidth % size);\n  height = realHeight - (realHeight % size);\n  cols = width / size;\n  rows = height / size;\n  canvas.setAttribute('style', `width:${width}px; height:${height}px`);\n  canvas.setAttribute('width', `${width}`);\n  canvas.setAttribute('height', `${height}`);\n}\ncanvasResize();\n\ncanvas.onmousemove = function (e) {\n  curX = Math.floor(e.offsetX / size);\n  curY = Math.floor(e.offsetY / size);\n};\n\ncanvas.onmousedown = function () {\n  arr[curX][curY][2] = arr[curX][curY][2] === 0 ? 1 : 0;\n  canvas2D.fillStyle = `rgb(\n          0,\n          0,\n          ${Math.floor(Math.random() * 255)})`;\n  if (arr[curX][curY][2] === 1) {\n    canvas2D.fillRect(curX * size, curY * size, size, size);\n    canvas2D.strokeRect(curX * size, curY * size, size, size);\n  }\n  if (arr[curX][curY][2] === 0) {\n    canvas2D.clearRect(curX * size, curY * size, size, size);\n    canvas2D.strokeRect(curX * size, curY * size, size, size);\n  }\n};\n\nfunction make2Darray(random) {\n  const arr = new Array(cols);\n  for (let i = 0; i < cols; i += 1) {\n    arr[i] = new Array(rows);\n  }\n\n  for (let i = 0; i < cols; i += 1) {\n    for (let j = 0; j < rows; j += 1) {\n      if (random) {\n        let z = Math.round(Math.random() / randomVal);\n        arr[i][j] = [i, j, z];\n      } else {\n        arr[i][j] = [i, j, 0];\n      }\n      canvas2D.fillStyle = `rgb(\n          ${Math.floor(Math.random() * 255 * 0.4)},\n          ${Math.floor(Math.random() * 255 * 0.85)},\n          ${Math.floor(Math.random() * 255 * 0.4)})`;\n      if (arr[i][j][2] === 1) {\n        canvas2D.fillRect(i * size, j * size, size, size);\n      }\n      if (arr[i][j][2] === 0) {\n        canvas2D.clearRect(i * size, j * size, size, size);\n        canvas2D.strokeRect(i * size, j * size, size, size);\n      }\n    }\n  }\n  return arr;\n}\n\nlet arr = make2Darray(random);\n\nfunction countNeighbors(i, j, array) {\n  let count = 0;\n  if (j - 1 >= 0) {\n    if (array[i][j - 1][2] === 1) count += 1;\n  }\n  if (j - 1 >= 0 && i - 1 >= 0) {\n    if (array[i - 1][j - 1][2] === 1) count += 1;\n  }\n  if (j - 1 >= 0 && i + 1 < cols) {\n    if (array[i + 1][j - 1][2] === 1) count += 1;\n  }\n  if (i - 1 >= 0) {\n    if (array[i - 1][j][2] === 1) count += 1;\n  }\n  if (i + 1 < cols) {\n    if (array[i + 1][j][2] === 1) count += 1;\n  }\n  if (j + 1 < rows) {\n    if (array[i][j + 1][2] === 1) count += 1;\n  }\n  if (j + 1 < rows && i - 1 >= 0) {\n    if (array[i - 1][j + 1][2] === 1) count += 1;\n  }\n  if (j + 1 < rows && i + 1 < cols) {\n    if (array[i + 1][j + 1][2] === 1) count += 1;\n  }\n  return count;\n}\n\nfunction gameOflife() {\n  let arrCopy = JSON.parse(JSON.stringify(arr));\n  for (let i = 0; i < cols; i += 1) {\n    for (let j = 0; j < rows; j += 1) {\n      let neighbors = countNeighbors(i, j, arrCopy);\n      if (neighbors < 2) {\n        arr[i][j][2] = 0;\n      } else if (neighbors > 3) {\n        arr[i][j][2] = 0;\n      } else if (\n        (arrCopy[i][j][2] === 1 && neighbors === 2) ||\n        (arrCopy[i][j][2] === 1 && neighbors === 3)\n      ) {\n        arr[i][j][2] = 1;\n      } else if (arrCopy[i][j][2] === 0 && neighbors === 3) {\n        arr[i][j][2] = 1;\n      }\n      if (arr[i][j][2] === 1) {\n        canvas2D.fillStyle = `rgb(\n          ${Math.floor(Math.random() * 255 * 0.4)},\n          ${Math.floor(Math.random() * 255)},\n          ${Math.floor(Math.random() * 255 * 0.4)})`;\n        canvas2D.fillRect(i * size, j * size, size, size);\n      }\n      if (arr[i][j][2] === 0) {\n        canvas2D.clearRect(i * size, j * size, size, size);\n      }\n    }\n  }\n}\n\nbutton.addEventListener('click', onBtnClick);\nbuttonRst.addEventListener('click', onRstBtnClick);\nbuttonRnd.addEventListener('click', onRndBtnClick);\nbuttonRndIncr.addEventListener('click', onRndIncrClick);\nbuttonRndDecr.addEventListener('click', onRndDecrClick);\nbuttonSize.addEventListener('click', onSizeBtnClick);\nbuttonSizeIncr.addEventListener('click', onSizeIncrClick);\nbuttonSizeDecr.addEventListener('click', onSizeDecrClick);\n\nfunction onRndBtnClick() {\n  random = true;\n  arr = make2Darray(random);\n}\n\nfunction onRndDecrClick() {\n  if (randomVal >= 1) randomVal -= 0.1;\n}\nfunction onRndIncrClick() {\n  if (randomVal <= 2) randomVal += 0.1;\n}\n\nfunction onSizeBtnClick() {\n  size = 12;\n  if (start) onBtnClick();\n  canvasResize();\n  onRstBtnClick();\n}\n\nfunction onSizeIncrClick() {\n  if (size <= 180) size += 2;\n  if (start) onBtnClick();\n  canvasResize();\n  onRstBtnClick();\n}\nfunction onSizeDecrClick() {\n  if (size >= 4) size -= 2;\n  if (start) onBtnClick();\n  canvasResize();\n  onRstBtnClick();\n}\n\nfunction onBtnClick() {\n  start = start === 0 ? 1 : 0;\n  if (start) {\n    continious = setInterval(gameOflife, 75);\n    button.textContent = 'Stop';\n  } else {\n    clearInterval(continious);\n    button.textContent = 'Start';\n  }\n}\n\nfunction onRstBtnClick() {\n  random = false;\n  arr = make2Darray(random);\n}\n"]}