{"version":3,"sources":["index.js"],"names":["continious","curX","curY","random","start","button","document","querySelector","buttonRst","buttonRnd","canvas","canvas2D","getContext","size","width","clientWidth","height","clientHeight","cols","rows","make2Darray","arr","Array","i","j","z","Math","round","fillStyle","floor","fillRect","clearRect","setAttribute","onmousemove","e","offsetX","offsetY","onmousedown","countNeighbors","array","count","gameOflife","arrCopy","JSON","parse","stringify","neighbors","onRndBtnClick","onBtnClick","setInterval","textContent","clearInterval","onRstBtnClick","addEventListener"],"mappings":"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","file":"src.bc3b4809.js","sourceRoot":"../src","sourcesContent":["/* \nAny live cell with fewer than two live neighbors dies, as if caused by underpopulation.\nAny live cell with more than three live neighbors dies, as if by overcrowding.\nAny live cell with two or three live neighbors lives on to the next generation.\nAny dead cell with exactly three live neighbors becomes a live cell.\n */\n\nlet continious,\n  curX,\n  curY,\n  random,\n  start = 0;\nconst button = document.querySelector('.btn');\nconst buttonRst = document.querySelector('.btn-reset');\nconst buttonRnd = document.querySelector('.btn-random');\nlet canvas = document.querySelector('.canvas');\nlet canvas2D = document.querySelector('.canvas').getContext('2d');\nconst size = 12;\nconst width = canvas.clientWidth - (canvas.clientWidth % size);\nconst height = canvas.clientHeight - (canvas.clientHeight % size);\nconst cols = width / size;\nconst rows = height / size;\ncanvas.setAttribute('style', `width:${width}px; height:${height}px`);\ncanvas.setAttribute('width', `${width}`);\ncanvas.setAttribute('height', `${height}`);\n\ncanvas.onmousemove = function (e) {\n  curX = Math.floor(e.offsetX / size);\n  curY = Math.floor(e.offsetY / size);\n};\n\ncanvas.onmousedown = function () {\n  arr[curX][curY][2] = arr[curX][curY][2] === 0 ? 1 : 0;\n  canvas2D.fillStyle = `rgb(\n          0,\n          0,\n          ${Math.floor(Math.random() * 255)})`;\n  if (arr[curX][curY][2] === 1) {\n    canvas2D.fillRect(curX * size, curY * size, size, size);\n  }\n  if (arr[curX][curY][2] === 0) {\n    canvas2D.clearRect(curX * size, curY * size, size, size);\n  }\n};\n\nfunction make2Darray(random) {\n  const arr = new Array(cols);\n  for (let i = 0; i < cols; i += 1) {\n    arr[i] = new Array(rows);\n  }\n\n  for (let i = 0; i < cols; i += 1) {\n    for (let j = 0; j < rows; j += 1) {\n      if (random) {\n        let z = Math.round(Math.random() / 1.65);\n        arr[i][j] = [i, j, z];\n      } else {\n        arr[i][j] = [i, j, 0];\n      }\n      canvas2D.fillStyle = `rgb(\n          0,\n          0,\n          ${Math.floor(Math.random() * 255)})`;\n      if (arr[i][j][2] === 1) {\n        canvas2D.fillRect(i * size, j * size, size, size);\n      }\n      if (arr[i][j][2] === 0) {\n        canvas2D.clearRect(i * size, j * size, size, size);\n      }\n    }\n  }\n  return arr;\n}\n\nlet arr = make2Darray(random);\n\nfunction countNeighbors(i, j, array) {\n  let count = 0;\n  if (j - 1 >= 0) {\n    if (array[i][j - 1][2] === 1) count += 1;\n  }\n  if (j - 1 >= 0 && i - 1 >= 0) {\n    if (array[i - 1][j - 1][2] === 1) count += 1;\n  }\n  if (j - 1 >= 0 && i + 1 < cols) {\n    if (array[i + 1][j - 1][2] === 1) count += 1;\n  }\n  if (i - 1 >= 0) {\n    if (array[i - 1][j][2] === 1) count += 1;\n  }\n  if (i + 1 < cols) {\n    if (array[i + 1][j][2] === 1) count += 1;\n  }\n  if (j + 1 < rows) {\n    if (array[i][j + 1][2] === 1) count += 1;\n  }\n  if (j + 1 < rows && i - 1 >= 0) {\n    if (array[i - 1][j + 1][2] === 1) count += 1;\n  }\n  if (j + 1 < rows && i + 1 < cols) {\n    if (array[i + 1][j + 1][2] === 1) count += 1;\n  }\n  return count;\n}\n\nfunction gameOflife() {\n  let arrCopy = JSON.parse(JSON.stringify(arr));\n  for (let i = 0; i < cols; i += 1) {\n    for (let j = 0; j < rows; j += 1) {\n      let neighbors = countNeighbors(i, j, arrCopy);\n      if (neighbors < 2) {\n        arr[i][j][2] = 0;\n      } else if (neighbors > 3) {\n        arr[i][j][2] = 0;\n      } else if (\n        (arrCopy[i][j][2] === 1 && neighbors === 2) ||\n        (arrCopy[i][j][2] === 1 && neighbors === 3)\n      ) {\n        arr[i][j][2] = 1;\n      } else if (arrCopy[i][j][2] === 0 && neighbors === 3) {\n        arr[i][j][2] = 1;\n      }\n      if (arr[i][j][2] === 1) {\n        canvas2D.fillStyle = `rgb(\n            0,\n            0,\n            ${Math.floor(Math.random() * 255)})`;\n        canvas2D.fillRect(i * size, j * size, size, size);\n      }\n      if (arr[i][j][2] === 0) {\n        canvas2D.clearRect(i * size, j * size, size, size);\n      }\n    }\n  }\n}\n\nbutton.addEventListener('click', onBtnClick);\nbuttonRst.addEventListener('click', onRstBtnClick);\nbuttonRnd.addEventListener('click', onRndBtnClick);\n\nfunction onRndBtnClick() {\n  random = true;\n  arr = make2Darray(random);\n}\n\nfunction onBtnClick() {\n  start = start === 0 ? 1 : 0;\n  if (start) {\n    continious = setInterval(gameOflife, 75);\n    button.textContent = 'Stop';\n  } else {\n    clearInterval(continious);\n    button.textContent = 'Start';\n  }\n}\n\nfunction onRstBtnClick() {\n  random = false;\n  arr = make2Darray(random);\n}\n"]}